<%- include("../includes/sidebar.ejs") %>

<style>
  .container {
      margin-top: 5rem;
      display: flex;
      justify-content: center;
  }
  .form-container {
      width: 50%;
      background-color: #f8f9fa;
      padding: 2rem;
      border-radius: 5px;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
  }
  .form-container h3 {
      text-align: center;
      margin-bottom: 2rem;
  }
  .form-group {
      margin-bottom: 1rem;
  }
  .form-group label {
      display: block;
      margin-bottom: 0.5rem;
  }
  .form-group input, .form-group textarea {
      width: 100%;
      padding: 0.5rem;
      border-radius: 5px;
      border: 1px solid #ced4da;
  }
  .form-row {
      display: flex;
      justify-content: space-between;
  }
  .form-row div {
      width: 45%;
  }
  button {
      display: block;
      width: 100%;
      padding: 0.5rem;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
  }
  button:hover {
      background-color: #0056b3;
  }
</style>

<div class="container">
    <div class="form-container">
        <div>
            <h3>Create a New Blog</h3>
            <form
                method="POST"
                action="/blog"
                enctype="multipart/form-data"
            >
                <div class="form-group">
                    <label for="file-input">Select Image</label>
                    <input type="file" id="file-input" name="Blog[images][]" multiple accept="image/*" onchange="previewImage(event)">
                    <div id="image-preview-container"></div>
                </div>

                <div class="form-group">
                    <label for="destination">Destination</label>
                    <input id="title" name="blog[destination]" placeholder="Enter Title" type="text">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="budget">Budget</label>
                        <input id="budget" name="blog[budget]" placeholder=" 1200,etc">
                    </div>
                    <div class="form-group">
                        <label for="state">State</label>
                        <input id="state" name="blog[state]" placeholder="Enter State You Visited" type="text">
                    </div>
                </div>

                <div class="form-group">
                    <label for="country">Country</label>
                    <input id="country" name="blog[country]" placeholder="Enter Country" type="text">
                </div>

                <div class="form-group">
                    <label for="experience">Experience</label>
                    <textarea id="experience" name="blog[experience]" type="text" placeholder="Enter your experience of your adventure trip"></textarea>
                </div>

                <button>Add</button>
            </form>
        </div>
    </div>
</div>

<script>
    function previewImage(event) {
        const fileInput = event.target;
        const imagePreviewContainer = document.getElementById("image-preview-container");
        imagePreviewContainer.innerHTML = "";

        for (const file of fileInput.files) {
            const reader = new FileReader();

            reader.onload = function (e) {
                const img = document.createElement("img");
                img.src = e.target.result;
                img.style.width = '100px';
                img.style.height = '100px';
                img.style.objectFit = 'cover';
                img.style.borderRadius = '5px';
                img.style.marginRight = '10px';
                imagePreviewContainer.appendChild(img);
            };

            reader.readAsDataURL(file);
        }
    }
</script>